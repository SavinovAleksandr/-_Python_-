"""
Пример 1.2: Работа со списками и словарями
Демонстрирует основные операции со списками и словарями
"""

print("=" * 50)
print("РАБОТА СО СПИСКАМИ")
print("=" * 50)

# Создание списка параметров для расчета
параметры_нагрузки = [100, 150, 200, 250, 300]  # МВт
напряжения_узлов = [220.5, 230.0, 240.0, 235.5]

print(f"Исходный список параметров: {параметры_нагрузки}")
print(f"Длина списка: {len(параметры_нагрузки)}")

# Индексация
print(f"\nПервый параметр: {параметры_нагрузки[0]}")
print(f"Последний параметр: {параметры_нагрузки[-1]}")
print(f"Третий параметр: {параметры_нагрузки[2]}")

# Изменение элементов
параметры_нагрузки[0] = 120
print(f"\nПосле изменения первого элемента: {параметры_нагрузки}")

# Добавление элементов
параметры_нагрузки.append(350)  # добавить в конец
# insert(2, 175) - вставляет элемент 175 на позицию с индексом 2
# Элемент 175 станет третьим по порядку (индекс 2),
# а элемент, который был на позиции 2 (140), сдвинется на позицию 3
параметры_нагрузки.insert(2, 175)  # вставить на позицию 2
print(f"После добавления элементов: {параметры_нагрузки}")

# Итерация по списку
print("\nИтерация по списку:")
for индекс, параметр in enumerate(параметры_нагрузки):
    print(f"  Параметр {индекс + 1}: {параметр} МВт")

# Создание нового списка с условием
большие_нагрузки = [п for п in параметры_нагрузки if п > 200]
print(f"\nПараметры больше 200 МВт: {большие_нагрузки}")

print("\n" + "=" * 50)
print("РАБОТА СО СЛОВАРЯМИ")
print("=" * 50)

# Создание словаря с результатами расчета
результаты_расчета = {
    "напряжение": 220.5,
    "мощность": 1000.0,
    "режим": "установившийся",
    "устойчивость": True,
    "время_расчета": 45.3,
    "ошибки": []
}

print(f"Словарь результатов: {результаты_расчета}")

# Доступ к значениям
print(f"\nНапряжение: {результаты_расчета['напряжение']} В")
print(f"Режим: {результаты_расчета['режим']}")

# Безопасный доступ (если ключ может отсутствовать)
коэффициент = результаты_расчета.get("коэффициент", 1.0)  # значение по умолчанию
print(f"Коэффициент (если отсутствует): {коэффициент}")

# Изменение и добавление значений
результаты_расчета["мощность"] = 1200.0
результаты_расчета["дата"] = "2024-01-15"
результаты_расчета["узел"] = "Узел_1"

print(f"\nПосле изменений:")
for ключ, значение in результаты_расчета.items():
    print(f"  {ключ}: {значение}")

# Проверка наличия ключа
if "ошибки" in результаты_расчета:
    print(f"\nСписок ошибок: {результаты_расчета['ошибки']}")

# Вложенные словари (словари внутри словаря)
сложные_результаты = {
    "режим_1": {
        "напряжение": 220.5,
        "мощность": 1000.0,
        "устойчивость": True
    },
    "режим_2": {
        "напряжение": 230.0,
        "мощность": 1200.0,
        "устойчивость": True
    }
}

print("\n" + "=" * 50)
print("ВЛОЖЕННЫЕ СЛОВАРИ")
print("=" * 50)
for режим, параметры in сложные_результаты.items():
    print(f"\nРежим: {режим}")
    print("Подробная информация о параметрах расчета:")
    for параметр, значение in параметры.items():
        print(f"    Параметр: {параметр}")
        print(f"        Значение: {значение}")
        print(f"        Тип данных: {type(значение).__name__}")
        if параметр == "устойчивость":
            if значение:
                print("        Статус: Расчет устойчив")
            else:
                print("        Статус: Расчет неустойчив")
        print("-" * 30)

# Получение всех ключей и значений
print("\n" + "=" * 50)
print("КЛЮЧИ И ЗНАЧЕНИЯ СЛОВАРЯ")
print("=" * 50)
print(f"Ключи: {list(результаты_расчета.keys())}")
print(f"Значения: {list(результаты_расчета.values())}")

