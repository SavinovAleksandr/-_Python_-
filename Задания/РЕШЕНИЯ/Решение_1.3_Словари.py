"""
РЕШЕНИЕ ЗАДАНИЯ 1.3: Работа со словарями
"""

print("=" * 60)
print("РЕШЕНИЕ ЗАДАНИЯ 1.3")
print("=" * 60)

# 1. Создание словаря
результаты = {
    "проект": "Проект_2024",
    "напряжение": 220.0,
    "мощность": 1000.0,
    "режим": "установившийся",
    "устойчивость": True
}

print("\n1. ИСХОДНЫЙ СЛОВАРЬ:")
print("-" * 60)
print(результаты)

# 2. Добавление новых ключей
результаты["время_расчета"] = 45.5
результаты["количество_итераций"] = 10

print("\n2. ПОСЛЕ ДОБАВЛЕНИЯ КЛЮЧЕЙ:")
print("-" * 60)
print(результаты)

# 3. Изменение значения мощности
результаты["мощность"] = 1200.0
print(f"\n3. МОЩНОСТЬ ИЗМЕНЕНА: {результаты['мощность']}")

# 4. Безопасное получение коэффициента
коэффициент = результаты.get("коэффициент", 1.0)
print(f"\n4. КОЭФФИЦИЕНТ (безопасный доступ): {коэффициент}")

# 5. Вывод всех ключей
print("\n5. ВСЕ КЛЮЧИ СЛОВАРЯ:")
print("-" * 60)
ключи = list(результаты.keys())
for ключ in ключи:
    print(f"  - {ключ}")

# 6. Вывод всех пар ключ-значение
print("\n6. ВСЕ ПАРЫ КЛЮЧ-ЗНАЧЕНИЕ:")
print("-" * 60)
for ключ, значение in результаты.items():
    print(f"  {ключ}: {значение}")

# 7. Создание и добавление вложенного словаря
параметры_узла = {
    "название": "Узел_1",
    "напряжение": 220.5,
    "активная_мощность": 500.0
}

результаты["узел_1"] = параметры_узла

print("\n7. ПОСЛЕ ДОБАВЛЕНИЯ ВЛОЖЕННОГО СЛОВАРЯ:")
print("-" * 60)
print(результаты)

# 8. Извлечение напряжения из вложенного словаря
напряжение_узла = результаты["узел_1"]["напряжение"]
print(f"\n8. НАПРЯЖЕНИЕ ИЗ ВЛОЖЕННОГО СЛОВАРЯ: {напряжение_узла} В")

# Дополнительное задание: функция проверки результата
print("\n" + "=" * 60)
print("ДОПОЛНИТЕЛЬНОЕ ЗАДАНИЕ: ФУНКЦИЯ ПРОВЕРКИ")
print("=" * 60)


def проверить_результат(результаты):
    """
    Проверяет, является ли результат валидным
    
    Возвращает True если:
    - режим устойчивый (устойчивость == True)
    - напряжение > 200 В
    """
    устойчивость_ok = результаты.get("устойчивость", False)
    напряжение_ok = результаты.get("напряжение", 0) > 200
    
    return устойчивость_ok and напряжение_ok


# Тестирование функции
валидность = проверить_результат(результаты)
print(f"Результат валиден: {валидность}")

# Тест с невалидными данными
невалидный_результат = {
    "напряжение": 190,
    "устойчивость": True
}
валидность2 = проверить_результат(невалидный_результат)
print(f"Невалидный результат (190 В): {валидность2}")

print("\n" + "=" * 60)

