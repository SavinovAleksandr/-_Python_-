"""
ЗАДАНИЕ 1.3: Работа со словарями

ЗАДАЧА:
Создать и обработать словарь с результатами расчетов динамической устойчивости.

ЗАДАНИЯ:
1. Создайте словарь "результаты" с начальными данными:
   - "проект": "Проект_2024"
   - "напряжение": 220.0
   - "мощность": 1000.0
   - "режим": "установившийся"
   - "устойчивость": True

2. Добавьте новые ключи:
   - "время_расчета": 45.5
   - "количество_итераций": 10

3. Измените значение "мощность" на 1200.0

4. Безопасно получите значение "коэффициент" (если нет, верните 1.0)

5. Выведите все ключи словаря

6. Выведите все пары ключ-значение

7. Создайте вложенный словарь "параметры_узла" с данными:
   - "название": "Узел_1"
   - "напряжение": 220.5
   - "активная_мощность": 500.0

   И добавьте его в "результаты" под ключом "узел_1"

8. Извлеките и выведите напряжение из вложенного словаря

ПОДСКАЗКИ:
- Используйте .get() для безопасного доступа
- Для вложенных словарей: словарь["ключ1"]["ключ2"]

"""

# ===== ВАШ КОД НИЖЕ =====

# 1. Создайте словарь "результаты"
результаты = {
    "проект": "Проект_2024",
    "напряжение": 220.0,
    "мощность": 1000.0,
    "режим": "установившийся",
    "устойчивость": True,
}

# 2. Добавьте новые ключи
результаты["время_расчета"] = 45.5
результаты["количество_итераций"] = 10

# 3. Измените мощность
результаты["мощность"] = 1200.0

# 4. Безопасно получите коэффициент
коэффициент = результаты.get("коэффициент", 1.0)
print(f"Коэффициент: {коэффициент}")

# 5. Выведите все ключи словаря
print("Ключи словаря:")
for ключ in результаты.keys():
    print(ключ)

# 6. Выведите все пары ключ-значение
print("Пары ключ-значение:")
for ключ, значение in результаты.items():
    print(f"{ключ} = {значение}")

# 7. Создайте и добавьте вложенный словарь
параметры_узла = {
    "название": "Узел_1",
    "напряжение": 220.5,
    "активная_мощность": 500.0,
}
результаты["узел_1"] = параметры_узла

# 8. Извлеките и выведите напряжение из вложенного словаря
напряжение_узла = результаты["узел_1"]["напряжение"]
print(f"Напряжение в узле: {напряжение_узла} В")

# ===== ДОПОЛНИТЕЛЬНОЕ ЗАДАНИЕ =====
# Создайте функцию, которая принимает словарь результатов
# и возвращает True, если режим устойчивый и напряжение > 200 В

def проверить_результат(словарь_результата):
    """
    Проверяет, является ли результат валидным

    Возвращает True если:
    - режим устойчивый (устойчивость == True)
    - напряжение > 200 В
    """
    устойчивость_ok = словарь_результата.get("устойчивость", False)
    напряжение_ok = словарь_результата.get("напряжение", 0) > 200
    return устойчивость_ok and напряжение_ok

# Проверьте функцию
результат_валиден = проверить_результат(результаты)
print(f"Результат валиден: {результат_валиден}")
